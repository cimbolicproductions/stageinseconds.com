# stageinseconds.com Environment Variables
# Copy this file to .env and fill in the values

# ==================================
# DATABASE
# ==================================

# PostgreSQL connection string (Neon Serverless recommended)
# Get this from: https://console.neon.tech
# Format: postgresql://[user]:[password]@[host]/[database]?sslmode=require
DATABASE_URL=postgresql://user:password@host.neon.tech/stageinseconds

# Test database connection string for running integration tests
# Should be a separate database from your development database
# Format: postgresql://[user]:[password]@[host]/[database_test]?sslmode=require
TEST_DATABASE_URL=postgresql://user:password@host.neon.tech/stageinseconds_test

# ==================================
# AUTHENTICATION
# ==================================

# Secret key for signing JWT tokens (REQUIRED if auth is enabled)
# Generate with: openssl rand -hex 32
# MUST be at least 32 characters
AUTH_SECRET=your-super-secret-jwt-signing-key-min-32-chars

# ==================================
# AI / IMAGE PROCESSING
# ==================================

# Google Gemini API key for AI photo processing (REQUIRED)
# Get this from: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=AIzaSy...

# ==================================
# PAYMENT PROCESSING
# ==================================

# Stripe secret key (REQUIRED)
# Get from: https://dashboard.stripe.com/apikeys
# Use test keys (sk_test_...) for development
# Use live keys (sk_live_...) for production
STRIPE_SECRET_KEY=sk_test_...

# Stripe publishable key (REQUIRED)
# Exposed to the client-side
# Use test keys (pk_test_...) for development
# Use live keys (pk_live_...) for production
STRIPE_PUBLIC_KEY=pk_test_...

# ==================================
# APPLICATION CONFIGURATION
# ==================================

# Node environment (development, staging, production)
NODE_ENV=development

# Server port (default: 4000)
PORT=4000

# Base URL for the application (optional)
# If not set, will use the request origin
# Used for generating absolute URLs (e.g., in emails, redirects)
NEXT_PUBLIC_APP_URL=http://localhost:4000

# ==================================
# CORS CONFIGURATION
# ==================================

# Comma-separated list of allowed CORS origins (optional)
# If not set, will use the request origin
# Example: https://app.stageinseconds.com,https://stageinseconds.com
CORS_ORIGINS=http://localhost:3000,http://localhost:4000

# ==================================
# INTEGRATION / THIRD-PARTY SERVICES
# ==================================

# Create.xyz integration host (REQUIRED for certain features)
# Used for proxying requests to create.xyz services
NEXT_PUBLIC_CREATE_HOST=create.xyz

# Create.xyz base URL (optional)
# Default: https://create.xyz
NEXT_PUBLIC_CREATE_BASE_URL=https://create.xyz

# Project group ID for create.xyz integrations (REQUIRED)
# Get this from your create.xyz dashboard
NEXT_PUBLIC_PROJECT_GROUP_ID=proj_...

# ==================================
# OPTIONAL CONFIGURATION
# ==================================

# Enable/disable authentication (optional)
# If set to "false", auth will be bypassed (useful for testing)
# Default: true
# AUTH_ENABLED=true

# Log level (optional)
# Options: debug, info, warn, error
# Default: info
# LOG_LEVEL=info

# ==================================
# PRODUCTION-ONLY VARIABLES
# ==================================

# Sentry DSN for error tracking (production)
# SENTRY_DSN=https://...@sentry.io/...

# CloudFlare R2 or S3 credentials for image storage (production)
# S3_ACCESS_KEY_ID=...
# S3_SECRET_ACCESS_KEY=...
# S3_BUCKET_NAME=...
# S3_REGION=us-east-1

# Redis URL for caching (production)
# REDIS_URL=redis://localhost:6379

# ==================================
# NOTES
# ==================================

# 1. NEVER commit the .env file to version control
# 2. Use different values for development, staging, and production
# 3. Rotate secrets regularly (especially AUTH_SECRET)
# 4. Use environment-specific Stripe keys (test vs live)
# 5. Ensure DATABASE_URL uses SSL in production (?sslmode=require)
# 6. NEXT_PUBLIC_* variables are exposed to the client - do not put secrets here
# 7. Generate strong AUTH_SECRET with: openssl rand -hex 32
