# ===========================================
# Stage In Seconds - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit the .env file with real values!

# ===========================================
# CRITICAL - Required for Production
# ===========================================

# Database - Neon PostgreSQL
# Get from: https://neon.tech/
DATABASE_URL=postgresql://user:password@host.neon.tech/database?sslmode=require

# Authentication
# Generate with: openssl rand -base64 32
AUTH_SECRET=your-32-char-secret-here
AUTH_URL=https://stageinseconds.com

# Google AI - Gemini API for photo processing
# Get from: https://ai.google.dev/gemini-api/docs/api-key
GOOGLE_API_KEY=your-google-api-key

# Stripe - Payment processing
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PUBLISHABLE_KEY=pk_live_...

# Stripe Webhook - For checkout completion
# Get from: Stripe Dashboard > Developers > Webhooks
STRIPE_WEBHOOK_SECRET=whsec_...

# ===========================================
# OPTIONAL - Enhanced Features
# ===========================================

# Email - Resend for email verification
# Get from: https://resend.com/
RESEND_API_KEY=re_...
EMAIL_FROM=noreply@stageinseconds.com

# Logging - Better Stack for centralized logs
# Get from: https://betterstack.com/logs
LOGTAIL_TOKEN=your-logtail-token

# Public App URL (for client-side)
NEXT_PUBLIC_APP_URL=https://stageinseconds.com

# ===========================================
# RATE LIMITING - Security Configuration
# ===========================================

# Master toggle (default: true)
RATE_LIMIT_ENABLED=true

# Window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW=60000

# Tier limits per window
RATE_LIMIT_AUTH_MAX=5        # Login/signup attempts
RATE_LIMIT_PHOTO_MAX=10      # Photo processing requests
RATE_LIMIT_BILLING_MAX=20    # Checkout/billing requests
RATE_LIMIT_GENERAL_MAX=100   # General API requests

# ===========================================
# DEVELOPMENT ONLY
# ===========================================

# Node environment
NODE_ENV=production

# For local development only
# DATABASE_URL=postgresql://localhost:5432/stageinseconds
